#@ <?xml version="1.0"?>
#@ <Roptimgui>
#@   <catalog>
#@     <description itemname="Number of Parameters" value="2"/>
#@     <description itemname="Gradient" value="continuous"/>
#@     <description itemname="Constraint" value="box, linear, nonlinear"/>
#@   </catalog>
#@   <tab tabname="Description">
#@     <title>A Test Rop File for optimgui</title>
#@     <label>
#@     This Rop file aims at testing the Parameters tab and the Run tab.
#@     </label>
#@   </tab>
#@   <tab tabname="Objective">
#@     <title>Objective Function</title>
#@     <label>
#@     A simple objective function: (x1 - 1)^2 + (x2 - 5)^4
#@     </label>
#@     <rcode>
f <- function (x) {
    x1 = x[1]
    x2 = x[2]
    res = (x1 - 1)^2 + (x2 - 5)^4
    return(res)
}
#@     </rcode>
#@   </tab>
#@   <tab tabname="Gradient">
#@     <title>Gradient</title>
#@     <label>
#@     Gradient of the objective function.
#@     
#@     If you want to tell the program that you are unable to provide a
#@     gradient function, just delete this tab, or leave the code area
#@     blank, or hide the code area.
#@     </label>
#@     <rcode>
g <- function(x) {
    x1 = x[1]
    x2 = x[2]
    g1 = 2 * (x1 - 1)
    g2 = 4 * (x2 - 5)^3
    return(c(g1, g2))
}
#@     </rcode>
#@   </tab>
#@   <tab tabname="Parameters">
#@     <title>Initial Values and Constraints for Parameters</title>
#@     <label>
#@     Put initial value and constraints here. Constraints should be within
#@     a pair of braces.
#@     </label>
#@     <rcode>
x0 = c(5, 4)
{
    x0[1] >= 2
    x0[1] <= 10 - x0[2]
    x0[2]^2 >= 10
    x0[1] + exp(x0[2]) >= 50
}
#@     </rcode>
#@   </tab>
#@   <tab tabname="Run">
#@     <title>The Running Code of Optimization</title>
#@     <rcode>
# Should be generated by clicking the "Choose method" button.
# Currently not implemented, so use a pre-defined one instead.
optim(x0, f, g, control = list(trace = 1))
#@     </rcode>
#@   </tab>
#@ </Roptimgui>
